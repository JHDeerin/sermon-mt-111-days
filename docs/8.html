<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sermon on the Mount in 111 Days - Day 8</title>
    <style>
        body {
            background: white;
            font-family: sans-serif;
            color: #333;
        }

        main {
            margin: 0 auto;
            max-width: 40em;
        }

        h1 a {
            color:#333;
            text-decoration: none;
        }

        #title {
            border: #333 1px solid;
            width: fit-content;
            padding: 0.25em;
            border-radius: 2px;
        }

        h3 {
            font-size: 1.25em;
        }

        details {
            background: #efefef;
            color: #555;
            padding: 1em;
            border-radius: 2px;
            border-left: #555 0.5em solid;
        }

        .textarea {
            width: 100%;
            min-height: 5em;
            max-height: 40vh;
            padding: 0;
            resize: none;
            border: none;
            font-size: 1rem; /*increase font size to avoid zoom-in behavior on iOS*/
            word-wrap: break-word;
            font-family: monospace;
            color: #333;
            overflow-y: auto;
            overflow-x: hidden;
        }
        .textarea:focus-visible {
            outline: none;
        }
        [contenteditable=plaintext-only]:empty:before{
            /* adds placeholder text */
            content: attr(placeholder);
            color: #555;
            pointer-events: none;
            display: block; /* For Firefox */
        }

        .practice-input {
            box-sizing: border-box;
            border: #aaa 1px solid;
            border-radius: 2px 2px 0 0;
            padding: 0.25em;
            width: 100%;
        }
        .practice-input button {
            background-color: #4ab27a;
            color: white;
            border-radius: 0.5em;
            border: none;
            padding: 0.5em;
            font-size: 1em;
        }
        .practice-input button:hover {
            background-color: #53c783;
            cursor: pointer;
        }

        .result-output {
            box-sizing: border-box;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: monospace;
            font-size: 1rem;
            line-height: 1.6; /* Slightly increased for better readability with placeholders */
            color: #555;

            margin: 0;
            background: #efefef;
            border: #aaa 1px solid;
            border-top: none;
            width: 100%;
            padding: 0.25em;
            border-radius: 0 0 2px 2px;
        }

        .deleted-placeholder {
            background-color: #ffdddd;
            color: #c00;
            border: 1px dashed #cc0000;
            padding: 1px 0.3em; /* Minimal padding */
            margin: 0 1px; /* Small margin to separate from adjacent words */
            border-radius: 2px;
            display: inline-block; /* Allows padding, margin, and to sit in line */
            line-height: normal; /* Avoids unusual line height inheritance */
            vertical-align: baseline; /* Align with surrounding text */
        }

        .added {
            background-color: #fff0b3;
            /* color: #543A00; */
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <main>
        <h1><a href="index.html">Sermon on the Mount ðŸŒ„<br>In 111 Days</a></h1>
        <h2 id="title">Day 8</h2>

        <h3>Section 1: The Beatitudes (Matthew 5:1-12)</h3>
        <p>Today's chunk to memorize:</p>
        <details>
            <summary>Matthew 5:1-8 (new text today in bold)</summary>
            <div id="reference-text-chunk">
                <p>Seeing the crowds, he went up on the mountain, and when he sat down, his disciples came to him.</p>
<p></p>
<p>  And he opened his mouth and taught them, saying:</p>
<p></p>
<p>  "Blessed are the poor in spirit, for theirs is the kingdom of heaven.</p>
<p></p>
<p>  "Blessed are those who mourn, for they shall be comforted.</p>
<p></p>
<p>  "Blessed are the meek, for they shall inherit the earth.</p>
<p></p>
<p>  "Blessed are those who hunger and thirst for righteousness, for they shall be satisfied.</p>
<p></p>
<p>  "Blessed are the merciful, for they shall receive mercy.</p>
<p></p>
<p>  <strong>"Blessed are the pure in heart, for they shall see God.</strong></p>
            </div>
        </details>

        <p>Practice:</p>
        <div class="practice-box">
            <div class="practice-input">
                <div class="textarea" id="user-text-chunk" placeholder="Type today's chunk from memory" contenteditable="plaintext-only"></div>
                <div style="display: flex; flex-direction: row-reverse;"><button id="compare-button-chunk">Check My Answer</button></div>
            </div>
            <div id="result-output-chunk" class="result-output"><i>No answer checked yet</i></div>
        </div>

        <p><i>Results key: <span class="deleted-placeholder">Â </span> = missing word, <span class="added">highlight</span> = extra word, âœ… = all correct!</i></p>

        <details>
            <summary>Meditation for today</summary>
            <p>Foul hearts make dim eyes Godward. To clear the eye we must cleanse the heart. Only purity has any idea of God, or any true vision of him. It is a great reward to be able to see God; and, on the other hand, it is of great help towards being pure in heart to have a true sight of the thrice-holy One. There are no pure hearts on earth unless the Lord has made them so, and none shall see God in heaven who have not been purified by grace while here below. Lord, create in me a clean heart, that I may behold thee, both now and for ever!</p><p>- C.H. Spurgeon, <a href="https://www.preceptaustin.org/matthew-5-commentary-spurgeon">Matthew 5 Commentary</a></p>
        </details>

        <hr>

        <h3>The Whole Sermon So Far</h3>
        <details>
            <summary>Matthew 5:1-8 (new text today in bold)</summary>
            <div id="reference-text-whole">
                <p>Seeing the crowds, he went up on the mountain, and when he sat down, his disciples came to him.</p>
<p></p>
<p>  And he opened his mouth and taught them, saying:</p>
<p></p>
<p>  "Blessed are the poor in spirit, for theirs is the kingdom of heaven.</p>
<p></p>
<p>  "Blessed are those who mourn, for they shall be comforted.</p>
<p></p>
<p>  "Blessed are the meek, for they shall inherit the earth.</p>
<p></p>
<p>  "Blessed are those who hunger and thirst for righteousness, for they shall be satisfied.</p>
<p></p>
<p>  "Blessed are the merciful, for they shall receive mercy.</p>
<p></p>
<p>  <strong>"Blessed are the pure in heart, for they shall see God.</strong></p>
            </div>
        </details>

        <p>Practice:</p>
        <div class="practice-box">
            <div class="practice-input">
                <div class="textarea" id="user-text-whole" placeholder="Type all the verses so far from memory" contenteditable="plaintext-only"></div>
                <div style="display: flex; flex-direction: row-reverse;"><button id="compare-button-whole">Check My Answer</button></div>
            </div>
            <div id="result-output-whole" class="result-output"><i>No answer checked yet</i></div>
        </div>

        <nav>
            <p><a href="7.html">Prev</a> | <a href="9.html">Next</a></p>
        </nav>
        <p><sub><i>All scripture passages (excepting the meditations) come from the <a href="http://www.esv.org">English Standard Version</a></i></sub></p>
    </main>

    <script src="diff_highlight.js"></script>
    <script>
        function registerPracticeText(textareaId) {
            const textarea = document.getElementById(textareaId);

            // resize textarea to fit content when typed
            textarea.addEventListener('input', function() {
                // Temporarily set height to auto to get the correct scrollHeight
                this.style.height = 'auto';
                // Set the height to the scrollHeight (min height needed for content)
                this.style.height = (this.scrollHeight) + 'px';
            });

            // Trigger resize on page load for pre-filled content if any
            textarea.dispatchEvent(new Event('input'));
        }
        registerPracticeText("user-text-chunk");
        registerPracticeText("user-text-whole");

        registerDiffDisplay(
            'reference-text-chunk',
            'user-text-chunk',
            'result-output-chunk',
            'compare-button-chunk',
        );
        registerDiffDisplay(
            'reference-text-whole',
            'user-text-whole',
            'result-output-whole',
            'compare-button-whole',
        );
    </script>
</body>
</html>